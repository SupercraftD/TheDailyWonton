import{i as f,B as h,p as y,D as p,w as g,V as u,T as b}from"./vendor.a8288ece.js";const w=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}};w();function I(i,l,n){return p(i,l,n)}const k={apiKey:"AIzaSyAxuWfnEQDkoGXZtY1blaGwNQ9IMWlwkNU",authDomain:"thedailywonton.firebaseapp.com",projectId:"thedailywonton",storageBucket:"thedailywonton.appspot.com",messagingSenderId:"960882307434",appId:"1:960882307434:web:ea219606913ffbeb077513",measurementId:"G-34D4PB9BGH"},B=f(k),d=h(B);var a=new Date,E=String(a.getDate()).padStart(2,"0"),v=String(a.getMonth()+1).padStart(2,"0"),T=a.getFullYear();a=v+"/"+E+"/"+T;async function c(){return await g(u(d,"articles"))}let m=!1;if(document.getElementById("info")!=null){let i=document.getElementById("taken").children[0].children[0];c().then(function(l){if(console.log(l),console.log(l.docs),l.docs)for(let n of l.docs)n.data().date==a&&(i.innerHTML="Taken",i.style.color="coral",document.getElementById("tb").style.display="none",m=!0)}),m==!1&&(i.innerHTML="Not Taken",i.style.color="lightgreen"),document.getElementById("tb").onclick=function(){location.href="pages/write.html"},document.getElementById("rb").onclick=function(){location.href="pages/read.html"}}else if(document.getElementById("write")!=null){async function i(l,n,e){return await b(u(d,"articles"),{date:l,article:n,name:e,comments:[]})}document.getElementById("submit").onclick=async function(){c().then(function(l){if(l.docs){let n=!1;for(let e of l.docs)e.data().date==a&&(n=!0,alert("Today's article is already taken"),location.href="../index.html");if(n==!1){let e=document.getElementById("write").value,t=document.getElementById("name").value;i(a,e,t).then(function(o){alert("article added successfully"),location.href="../index.html"})}}})}}else c().then(function(i){let l=i.docs.sort(function(n,e){return new Date(e.data().date)-new Date(n.data().date)});for(let n of l){let e=document.getElementById("entry").cloneNode(!0);e.children[5].style="display:none;background-color:gray;padding:1%;",document.getElementById("app").appendChild(e),e.style.display="block",e.children[1].innerHTML=n.data().name,e.children[2].innerHTML=n.data().date,e.children[3].innerHTML=n.data().article,e.children[4].onclick=()=>{let t=n.data().comments;for(let o of t){let r=document.createElement("p"),s=document.createElement("b");s.innerHTML=o.name+": ",r.appendChild(s),r.innerHTML+=o.comment,e.children[5].children[5].appendChild(r)}if(e.children[5].style.display=="none")e.children[5].style.display="block";else{for(;e.children[5].children[5].firstChild;)e.children[5].children[5].removeChild(e.children[5].children[5].firstChild);e.children[5].style.display="none"}},e.children[5].children[4].onclick=()=>{let t=e.children[5].children[2].value,o=e.children[5].children[3].value,r=n.data().comments;r.push({name:o,comment:t}),y(I(d,"articles",n.id),{comments:r}),e.children[5].children[3].value="",e.children[5].children[2].value=""}}});
